<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: transparent; width: 100vw; height: 100vh; }
        /* モデルを表示する枠を右下に配置 */
        .weapon-wrapper {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 500px; /* 十分な広さを確保 */
            height: 500px;
            display: flex;
            align-items: flex-end;
            justify-content: flex-end;
        }
        model-viewer {
            width: 100%; height: 100%;
            background: transparent;
        }
    </style>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
</head>
<body>
    <div class="weapon-wrapper" id="wrapper">
        <model-viewer id="mv" src="melee_156.glb" autoplay interaction-prompt="none" camera-orbit="45deg 75deg 2m"></model-viewer>
    </div>

    <script>
        const wrapper = document.getElementById('wrapper');
        const mv = document.getElementById('mv');

        window.addEventListener('message', (e) => {
            if (e.data.type === 'adjust') {
                // 位置の調整
                wrapper.style.right = e.data.x + 'px';
                wrapper.style.bottom = e.data.y + 'px';
                // サイズの調整
                const s = e.data.scale;
                mv.setAttribute('scale', `${s} ${s} ${s}`);
            }
        });
    </script>
</body>
</html>
